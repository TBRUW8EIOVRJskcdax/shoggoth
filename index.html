<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoggoth</title>
    <style>
      body {
        font-family: monospace;
        /* text-align: center; */
      }
        canvas {
            border: 1px solid black;
            cursor: pointer;
        }
        #controls {
            margin-top: 10px;
        }

        .t1 {
          text-align: center; 
          /* font-family: serif; */
          font-size: 24px;
          font-weight: bold;
          font-style: italic;
        }

        .t2, .t3 {
          text-align: center; 
          /* font-family: serif; */
        }

        .title {
          text-align: center; 
        }
    </style>
</head>
<body>
    <h1 class="title">Shoggoth</h1>

    <div >
      <div class="t1">
        Why an Octopus-like Creature Has<br>
        Come to Symbolize the State of A.1.
      </div>
      <br>
      <div class="t2">
        The Shoggoth, a character from a science fiction story,<br>
        capture the essential weirdness of the A.I. moment.
      </div>
      <br>
    </div>

    <div class="t3">

      <div>
        H2c31USxu35MDkBrGph8pUDUnmzo2e4Rf4hnvL2Upump
      </div>
      <br>
  
      <a href="https://www.nytimes.com/2023/05/30/technology/shoggoth-meme-ai.html">New York Times</a>
  
      <a href="https://twitter.com/Shoggoth_SOL">Twitter</a>
  
      <a href="https://dexscreener.com/solana/H2c31USxu35MDkBrGph8pUDUnmzo2e4Rf4hnvL2Upump">Dexscreener</a>

    </div>

    <br>



    <!-- <div style="width: 600px; margin: 0 auto;">
         

    <br>

      <h1>About</h1>

      sdfsad
      fsdfasdf
      sdfa
      <br>

      <h1>Memes</h1>
      <br>


    <h1>Meme Creator</h1>

    <canvas id="canvas" width="800" height="600"></canvas>

    <div id="controls">
        <input type="file" id="upload" accept="image/*" />
        <button id="export">Export Image</button>
        <br>
        <label for="scale">Scale:</label>
        <input type="range" id="scale" min="0.1" max="2" step="0.1" value="1">
    </div>
  </div> -->


    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const upload = document.getElementById('upload');
        const exportBtn = document.getElementById('export');
        const scaleInput = document.getElementById('scale');

        let userImage = null;
        let userImageWidth = 0;
        let userImageHeight = 0;
        let dragging = false;
        let dragStartX, dragStartY;
        let imageX = 400, imageY = 300;
        const backgroundImage = new Image();

        backgroundImage.src = 'https://i.etsystatic.com/34468261/r/il/a8437c/5130318359/il_1588xN.5130318359_o4wr.jpg';
        backgroundImage.onload = () => {
            drawCanvas();
        };

        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);
            if (userImage) {
                const scale = parseFloat(scaleInput.value);
                const scaledWidth = userImageWidth * scale;
                const scaledHeight = userImageHeight * scale;
                ctx.drawImage(userImage, imageX - scaledWidth / 2, imageY - scaledHeight / 2, scaledWidth, scaledHeight);
            }
        }

        upload.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    userImage = new Image();
                    userImage.src = e.target.result;
                    userImage.onload = () => {
                        userImageWidth = userImage.width;
                        userImageHeight = userImage.height;
                        drawCanvas();
                    };
                };
                reader.readAsDataURL(file);
            }
        });

        scaleInput.addEventListener('input', drawCanvas);

        canvas.addEventListener('mousedown', (event) => {
            if (userImage) {
                const scale = parseFloat(scaleInput.value);
                const scaledWidth = userImageWidth * scale;
                const scaledHeight = userImageHeight * scale;

                // Check if the click is wthin the image bounds
                const rect = canvas.getBoundingClientRect();
                const mouseX = event.clientX - rect.left;
                const mouseY = event.clientY - rect.top;

                if (
                    mouseX > imageX - scaledWidth / 2 &&
                    mouseX < imageX + scaledWidth / 2 &&
                    mouseY > imageY - scaledHeight / 2 &&
                    mouseY < imageY + scaledHeight / 2
                ) {
                    dragging = true;
                    dragStartX = mouseX - imageX;
                    dragStartY = mouseY - imageY;
                }
            }
        });

        canvas.addEventListener('mousemove', (event) => {
            if (dragging) {
                const rect = canvas.getBoundingClientRect();
                const mouseX = event.clientX - rect.left;
                const mouseY = event.clientY - rect.top;

                imageX = mouseX - dragStartX;
                imageY = mouseY - dragStartY;
                drawCanvas();
            }
        });

        canvas.addEventListener('mouseup', () => {
            dragging = false;
        });

        canvas.addEventListener('mouseout', () => {
            dragging = false;
        });

        exportBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = 'result.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    </script>
</body>
</html>
